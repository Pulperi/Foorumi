<div class="page-header">
    <h1>{{topic.name}}</h1>
</div>

<p>
    {{topic.description}}
</p>

<h2>{{Messages.length}} <span ng-pluralize count="Messages.length" when="{ '0': 'threads', 'one': 'thread', 'other': 'threads' }"></span></h2>

<ul class="media-list">
  <li class="media" ng-repeat="message in Messages">
    <div class="media-body">
      <h4 class="media-heading">
        <a ng-href="#/messages/{{message.id}}">{{message.title}}</a>
      </h4>

      <p>
        {{message.content}}
      </p>

      <p class="text-muted">
        {{message.User.username}},
        <span> {{message.createdAt | date:"M.d.yyyy HH:mm"}}</span>
      </p>
    </div>
  </li>
</ul>

<h2 ng-if="userLoggedIn">Add new thread</h2>

<form ng-if="userLoggedIn">
  <div class="form-group">
    <label>Name</label>
    <input type="text" class="form-control" ng-model="newMessage.title">
  </div>

  <div class="form-group">
    <label>Message</label>
    <textarea class="form-control" ng-model="newMessage.content"></textarea>
  </div>
  <button class="btn btn-success" ng-click="addMessage()">Create</button>
</form>
